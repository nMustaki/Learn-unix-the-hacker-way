<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Hack it baby - </title>
  <link rel="stylesheet" href="style.css" type="text/css" />
  <meta name="viewport" content="width=device-width">
</head>
<body>
<p>
	<h1>Learn Unix the hacker way</h1>
	<h3>By Oleiade <a href="http://twitter.com/oleiade">@oleiade</a></h3>
</p>
<div style="width:500px">

<iframe src="http://ghbtns.com/github-btn.html?user=oleiade&repo=Learn-unix-the-hacker-way&type=watch&count=true"
  allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>

 <iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.1333103182.html#_=1333404284780&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2oleiade.github.com%2FLearn-unix-the-hacker-way%2F&amp;size=m&amp;text=Learn%20Unix%20the%20hacker%20way&amp;url=https%3A%2F%2Fgithub.com%2Foleiade%2FLearn-unix-the-hacker-way&amp;via=oleiade" class="twitter-share-button twitter-count-horizontal" style="width: 107px; height: 20px; " title="Twitter Tweet Button"></iframe>
<script id="twitter-wjs" src="//platform.twitter.com/widgets.js"></script><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  <p>&nbsp;<br></p>
</div>

<p><img src="img/learn-unix-the-hacker-way.jpg"></p>
<div id="TOC">
<ul>
<li><a href="#prelude">Prelude</a></li>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#de-quoi-sagit-il">De quoi s’agit-il</a></li>
<li><a href="#pourquoi-tout-ce-tintouin">Pourquoi tout ce tintouin</a></li>
<li><a href="#a-destination-de">a destination de?</a><ul>
<li><a href="#qui">qui</a></li>
</ul></li>
<li><a href="#qui-a-commis-ceci">Qui a commis ceci?</a></li>
</ul></li>
<li><a href="#au-jour-le-jour">Au jour le jour</a><ul>
<li><a href="#les-commandes-et-le-file-system">Les commandes et le file-system</a><ul>
<li><a href="#exercices">Exercices</a></li>
<li><a href="#défi">Défi</a></li>
<li><a href="#background">Background</a><ul>
<li><a href="#le-systeme-de-fichier">Le systeme de fichier</a></li>
<li><a href="#le-terminal">Le terminal</a></li>
<li><a href="#le-shell">Le shell</a></li>
<li><a href="#anatomie-dune-commande-unix">Anatomie d’une commande unix</a></li>
<li><a href="#les-wildcard">Les wildcard</a></li>
<li><a href="#un-protocole">Un protocole</a></li>
</ul></li>
<li><a href="#cheat-codes">Cheat codes</a><ul>
<li><a href="#ouvrir-un-terminal">Ouvrir un terminal</a></li>
<li><a href="#une-commande-unix">Une commande unix</a></li>
<li><a href="#passer-une-option-à-une-commande">Passer une option à une commande</a></li>
<li><a href="#commandes">Commandes</a></li>
</ul></li>
</ul></li>
<li><a href="#les-fichiers-et-les-internets">Les fichiers et les internets</a><ul>
<li><a href="#exercices-1">Exercices</a><ul>
<li><a href="#préambule">Préambule</a></li>
</ul></li>
<li><a href="#defi-du-jour">Defi du jour</a></li>
<li><a href="#background-1">Background</a></li>
</ul></li>
<li><a href="#le-root-et-lanonymous">Le root et l’anonymous</a><ul>
<li><a href="#exercices-2">Exercices</a><ul>
<li><a href="#un-peu-plus-sur-le-shell">Un peu plus sur le shell</a></li>
<li><a href="#le-droit-de-rien-lenvie-de-tout.">Le droit de rien, l’envie de tout.</a></li>
</ul></li>
<li><a href="#defi">Defi</a></li>
<li><a href="#background-2">Background</a></li>
</ul></li>
<li><a href="#rollback">Rollback</a><ul>
<li><a href="#et-si-on-se-revoyait">Et si on se revoyait?</a></li>
<li><a href="#le-shell-et-lenvironnement.">le shell et l’environnement.</a></li>
<li><a href="#background-3">Background</a></li>
</ul></li>
<li><a href="#shell-scripting">Shell scripting</a><ul>
<li><a href="#exercices-3">Exercices</a></li>
<li><a href="#defi-1">Defi:</a></li>
<li><a href="#background-4">Background</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<h2 id="prelude"><a href="#TOC">Prelude</a></h2>
<p>TODO</p>
<h1 id="introduction"><a href="#TOC">Introduction</a></h1>
<h3 id="de-quoi-sagit-il"><a href="#TOC">De quoi s’agit-il</a></h3>
<h3 id="pourquoi-tout-ce-tintouin"><a href="#TOC">Pourquoi tout ce tintouin</a></h3>
<p>TODO</p>
<h3 id="a-destination-de"><a href="#TOC">a destination de?</a></h3>
<h4 id="qui"><a href="#TOC">qui</a></h4>
<p>TODO</p>
<h3 id="qui-a-commis-ceci"><a href="#TOC">Qui a commis ceci?</a></h3>
<p>TODO</p>
<h1 id="au-jour-le-jour"><a href="#TOC">Au jour le jour</a></h1>
<h3 id="les-commandes-et-le-file-system"><a href="#TOC">Les commandes et le file-system</a></h3>
<h4 id="exercices"><a href="#TOC">Exercices</a></h4>
<p><strong>1</strong>. Trouve comment ouvrir un terminal.</p>
<p><strong>2</strong>. Maintenant, documente toi pour savoir ce qu’est une commande sur un système Unix.</p>
<p><strong>3</strong>. Quelle est la syntaxe pour passer des options a une commande?</p>
<p><strong>4</strong>. Trouve les commandes qui permettent d’effectuer les actions suivantes :</p>
<ul>
<li><p>Imprimer à l’écran l’endroit sur le système de fichier ou tu te trouves actuelement.</p></li>
<li><p>Lister le contenu d’un dossier. Quelle option passée à cette commande permet de lui faire lister <strong>recursivement</strong> le contenu d’un dossier ? Quelle combinaison d’options permet de lister les fichiers en affichant leur <strong>date de creation</strong>, <strong>l’utilisateur</strong> qui les a crée, et les droits que celui ci a dessus ( on verra plus en détail les droits plus tard)</p></li>
<li><p>Se déplacer dans le système de fichier.</p></li>
<li><p>Copier un fichier. Ainsi que l’option qui permet à celle-ci de copier un dossier.</p></li>
<li><p>Deplacer un fichier. Déplacer un dossier.</p></li>
<li><p>Renommer un fichier (Ce n’est pas nécéssairement une nouvelle commande). Renommer un dossier.</p></li>
<li><p>Effacer un fichier. Ainsi que l’option qui permet à celle-ci d’effacer un dossier.</p></li>
<li><p>Créer un dossier.</p></li>
<li><p>Créer un fichier.</p></li>
<li><p>Ecrire dans un fichier et le sauver dans ~/Desktop.</p>
<p><strong>Nota</strong>: Tu peux utiliser un petit outil en ligne de commande présent par défaut sur la plupart des systèmes unix baptisé nano. Familiarise toi avec, il est très très simple d’utilisation, et s’avérera très pratique.</p></li>
</ul>
<p><strong>5</strong>. Documente toi un petit peu pour être apte à répondre à la question: Mais au fait, c’est quoi un système unix? C’est quoi la difference avec windows?</p>
<h4 id="défi"><a href="#TOC">Défi</a></h4>
<p>Maintenant, un défi, pour pratiquer sur un cas concret: Trouve avec quelle commande et quelles options te connecter au serveur hackerway.oleiade.com via le protocole ftp en ligne de commande. Une fois connecté, trouve le moyen de rappatrier le fichier <code>defi_ftp</code> dans le dossier sur ta machine <code>~/Downloads</code> (si ce second n’existe pas, crée le)</p>
<p><strong>Note pour les pessimistes</strong>: C’est plus simple que ca en a l’air.</p>
<p><strong>Au préalable</strong></p>
<p>Je te conseille de lire quelques petits tutoriels pour comprendre ce qu’est un système de fichiers, à quoi ça correspond, et surtout à quoi ca ressemble.</p>
<p>Le système de fichier, c’est le nom qu’on donne à l’agencement des fichiers et dossiers sur ton ordinateur. C’est là où il, toi, et tous les utilisateurs du système vont ranger leur données.</p>
<p>Tu peux le considérer comme un gros arbre avec des branches.La plupart des systemès unix partagent cette hiérarchie.</p>
<p>Ensuite, sache que la commande qui te sauvera <strong>toujours</strong> la vie, et qui a donné naissance à la fameuse réplique “RTFM” (Read The Fucking Manual) sur les forums techniques est <code>man</code>.</p>
<p>Pour chaque commande du système, tu as ce qu’on appelle un <code>man</code>. Par exemple, si tu tapes ‘man cat’ le manuel d’utilisation de la commande <code>cat</code>, detaillant son utilisation et toutes les options que tu peux lui passer s’affichera à l’écran.</p>
<h4 id="background"><a href="#TOC">Background</a></h4>
<h6 id="le-systeme-de-fichier"><a href="#TOC">Le systeme de fichier</a></h6>
<p>TODO</p>
<h6 id="le-terminal"><a href="#TOC">Le terminal</a></h6>
<p>TODO</p>
<h6 id="le-shell"><a href="#TOC">Le shell</a></h6>
<p>TODO</p>
<h6 id="anatomie-dune-commande-unix"><a href="#TOC">Anatomie d’une commande unix</a></h6>
<p>TODO</p>
<h6 id="les-wildcard"><a href="#TOC">Les wildcard</a></h6>
<p>TODO</p>
<h6 id="un-protocole"><a href="#TOC">Un protocole</a></h6>
<p>TODO</p>
<h4 id="cheat-codes"><a href="#TOC">Cheat codes</a></h4>
<h6 id="ouvrir-un-terminal"><a href="#TOC">Ouvrir un terminal</a></h6>
<ul>
<li><p><strong>Raspberry Pi</strong> : Si vous vous exercez sur cette plateforme, c’est que vous etes probablement deja au fait de l’utilisation d’un terminal.</p></li>
<li><p><strong>OSX</strong> : L’application <code>Terminal</code> se trouve dans <code>/Applications/Utilitaires</code></p></li>
<li><p><strong>Linux</strong>: Généralement, sur les distributions Linux, vous trouverez le terminal dans le menu <code>Applications</code> puis dans la section <code>Utilitaires</code> ou <code>Outils système</code> ou assimilés.</p></li>
</ul>
<h6 id="une-commande-unix"><a href="#TOC">Une commande unix</a></h6>
<ul>
<li>Voir [[ Anatomie d’une commande unix ]]</li>
</ul>
<h6 id="passer-une-option-à-une-commande"><a href="#TOC">Passer une option à une commande</a></h6>
<p>Généralement une même option d’une commande unix à deux syntaxes possibles. Elle se distingue par le nombre de tirets qui la précède: 1 ou 2.</p>
<p>Lorsqu’une option est passée à l’aide d’un seul tiret, son nom ne se compose que d’une seule lettre.</p>
<p>Cependant on peut cumuler à la suite d’un seul tiret autant d’options composée d’une lettre unique qu’on le souhaite.</p>
<p>Par exemple, sont valides:</p>
<p><code>macommande -o</code> et <code>macommande -oadks</code> ainsi que <code>macommande -o -a -d -k -s</code></p>
<p>Par ailleurs, certaines options nécéssitent de leur passer une valeur, d’autres agissent comme des “flags” et ne nécéssitent de passer aucune valeur.</p>
<p>Une option peut généralement être utilisée avant, ou après les arguments obligatoires de cette commande ( par exemple la commande <code>ls</code> prend obligatoirement une série de chemins dont elle devra lister le contenu).</p>
<p>Exemples:</p>
<ul>
<li><p>Avec une option écrite avec un tiret simple et en passant une valeur</p>
<p><code>macommande arg1 -o [valeurdeloption]</code></p>
<p>ou</p>
<p><code>macommande -o [valeurdeloption] arg1</code></p></li>
<li><p>Qui géneralement a sa variante en toutes lettres précédée par deux tirets</p>
<p><code>macommande --option [valeurdeloption] arg1</code></p></li>
</ul>
<h6 id="commandes"><a href="#TOC">Commandes</a></h6>
<ul>
<li><p>Imprimer à l’ecran l’endroit où l’on se trouve</p>
<p><code>pwd</code></p></li>
<li><p>Lister le contenu d’un dossier</p>
<p><code>ls</code></p></li>
<li><p>Lister récursivement le contenu d’un dossier</p>
<p><code>ls -R</code></p></li>
<li><p>Lister les fichiers ainsi que leur date de création, l’utilisateur qui les a crée et les droits afférents à celui-ci.</p>
<p>`ls -la</p></li>
<li><p>Se déplacer dans le système de fichiers</p>
<p><code>cd madestination</code></p></li>
<li><p>Copier un fichier</p>
<p><code>cp monfichier madestination</code></p></li>
<li><p>Copier un dossier</p>
<p><code>cp -r mondossier ma destination</code></p></li>
<li><p>Déplacer un fichier ou un dossier</p>
<p><code>mv monfichieroudossier destination</code></p></li>
<li><p>Renommer un fichier ou un dossier</p>
<p>Généralement, on utilise également la commande <code>mv</code> pour renommer des fichiers et dossiers.</p>
<p>Attention cependant, lorsque vous renommez un fichier ou dossier dans un endroit différent de celui où vous vous trouvez actuelement en utilisant <code>mv</code>, il est important de respecter le chemin complet du fichier de départ ainsi que du fichier d’arrivée.</p>
<p><code>mv monfichier nouveaunomdufichier</code></p></li>
<li><p>Effacer un fichier</p>
<p><code>rm monfichier</code></p></li>
<li><p>Effacer un dossier</p>
<p><code>rm -rf mondossier</code></p></li>
<li><p>Créer un dossier</p>
<p><code>mkdir mondossier</code></p>
<p>Lorsque vous souhaitez créer une imbrication de dossiers en une seule commande, vous pouvez utiliser l’option <code>-p</code></p>
<p><code>mkdir mondossier/imbrique1/imbrique2</code></p></li>
<li><p>Créer un fichier</p>
<p><code>touch monfichier</code></p></li>
<li><p>Créer et écrire dans un fichier sur <code>~/Desktop</code></p>
<p><code>nano ~/Desktop</code></p></li>
</ul>
<h3 id="les-fichiers-et-les-internets"><a href="#TOC">Les fichiers et les internets</a></h3>
<h4 id="exercices-1"><a href="#TOC">Exercices</a></h4>
<p>Sur unix, il faut le savoir tout est fichier. Un fichier est un fichier, un dossier est un fichier, même une connexion internet est un fichier, simplement ils représentent tous les informations qu’ils contiennent d’une manière différente.</p>
<p>Tu peux a peu près tout savoir de ton ordinateur en lisant les bons fichiers tu peux a peu près tout faire en modifiant les bons fichiers.</p>
<p>Du coup au programme d’aujourd’hui manipulation de fichier, et trifouillage avec les internets.</p>
<h5 id="préambule"><a href="#TOC">Préambule</a></h5>
<p><strong>1</strong>. Quelle est la différence entre ~/Desktop, /Users/MONUTILISATEUR/Desktop ? Quand tu tapes / et que tuappuies deux fois sur tab que se passe t’il ? Qu’en conclus-tu ? Ca ne te rappelle rien. Re-regarde la hiérarchie du système de fichier unix, ca devrait t’eclaire. Si tu ne comprends pas cette étape, HURLE.</p>
<p><strong>2</strong>. Comment lire un fichier, c’est a dire, simplement l’afficher a l’ecran. (Sans utiliser nano, ou vi: deux commande native existe deja au sein d’unix)</p>
<p><strong>3</strong>. Comment afficher les derniers lignes d’un fichier? comment afficher les premières? Quelle est l’option commune a ces deux commandes pour lui specifier combien de ligne depuis le debut/la fin on souhaite afficher la l’ecran.</p>
<p><strong>4</strong>. Quelle commande utiliser pour chercher des occurences (des expressions) dans un fichier. Par exemple, si tu cree un fichier avec le contenu suivant dans ~/Desktop:</p>
<pre><code>ABC
Easy as...
123
As simple as...
Do re mi
ABC, 123, baby, you and me girl
ABC
Easy as...
123
As simple as...
Do re mi
ABC, 123, baby, you and me</code></pre>
<ul>
<li>Comment verifier que celui ci contient bien l’occurence 123?</li>
<li>Comment trouver tous les fichiers dans ~/Desktop qui contienent l’occurence “As simple as…”</li>
<li>Comment trouver tous les fichiers dans ~/Desktop qui matchent l’expression reguliere <code>^ABC$</code> (meme commande)?</li>
</ul>
<p><strong>5</strong>. A l’aide de quelle commande peux-tu compter le nombre de lignes dans un fichier? Combien y en a t’il dans le fichier que je t’ai fait creer precedement ? :)</p>
<p><strong>6</strong>. Quelle commande utiliser pour chercher des fichiers/dossiers sur le file system?</p>
<p>Comment trouver a l’aide de celle-ci tous les dossiers qui se nomment <code>MONUTILISATEUR</code> a l’interieur de /Users ?</p>
<p>Comment trouver a l’aide de celle-ci tous les fichiers qui s’appellent MONUTILISATEUR sur le disque dur, c’est a dire, a partir de / ? (n’hesite pas a revoir l’agencement et la hierarchie du filesystem unix :) )</p>
<p><strong>7</strong>. Qu’est-ce qu’un lien sur un systeme unix? Quelle commande permet d’en faire un ? Quelle difference entre un lien symbolique et un hardlink?</p>
<p>Comment faire un lien symbolique du fichier precedemment creer dans le dossier desktop afin de pouvoir y acceder depuis <code>~/</code> ?</p>
<p><em>Allez, des trucs plus fun maintenant.</em></p>
<p><strong>8</strong>. Quelle est l’adresse ip <code>locale</code> de tous les ordinateurs? (l<code>ocalhost</code>)</p>
<p>Comment trouver l’ip d’un domaine? Par exemple: trouve l’ip de <code>oleiade.com</code>, celle de botify.com… Il y a plusieurs methodes possibles.</p>
<p>Comment decouvrir le temps que mets un site a te repondre? avec quelle commande?</p>
<p><strong>9</strong>. Trouve une commande (qui n’est pas curl) qui te permette de telecharger un fichier depuis son url. Rappatrie, et affiche les 42 dernieres lignes du fichier situe a l’url suivante: <code>http://http://wiki.freebase.com/images/e/eb/Steve-martin-quad-sample.txt</code></p>
<h4 id="defi-du-jour"><a href="#TOC">Defi du jour</a></h4>
<p>A l’aide de la commande curl (que tu auras probablement a installer, via homebrew ou autre), je voudrais que tu telecharges et ecrive dans un fichier morganetual_com.html dans <code>~/</code> la page d’accueil de http://morganetual.com Encore une fois, si des etapes ne sont pas assez detaillees, pas assez claires, besoin d’aide, HURLE :D</p>
<h4 id="background-1"><a href="#TOC">Background</a></h4>
<p>TODO</p>
<h3 id="le-root-et-lanonymous"><a href="#TOC">Le root et l’anonymous</a></h3>
<h4 id="exercices-2"><a href="#TOC">Exercices</a></h4>
<h5 id="un-peu-plus-sur-le-shell"><a href="#TOC">Un peu plus sur le shell</a></h5>
<p>Jusqu’ici on s’est contente d’operations assez basiques dans l’ensemble: demander au systeme d’effectuer une, et une seule action a la fois.</p>
<p>Cependant le shell sait faire beaucoup plus que ca, et met a disposition ce qu’on appelle des operateurs qui permette par exemple d’exprimer le <code>AND</code>(fais ceci, et, cela), le <code>OR</code> (fais ceci, ou, si ca ne marche pas, fais cela), le <code>PIPE</code>, les superior, inferior.</p>
<p>Leur apprentissage peut etre fastidieux, moi-meme je n’en utilise quotidienement qu’un lot tres restreint. Parcours les internets pour en apprendre un peu plus et c’est parti:</p>
<p><strong>1</strong>. Quel est l’operateur qui permet de chainer des commandes? C’est a dire de les executer a la suite les unes des autres?</p>
<p><strong>2</strong>. Tu te rappelles le symbole <code>~</code> ? Lorsque tu l’utilise au sein des arguments d’une commande, le shell comprend qu’il doit le remplacer par le dossier principal de ton utiliser (<code>/Users/MONUTILISATEUR</code> sur ton mac). Il y a un autre symbole qu’il interprete comme : remplacer ce symbole par le dernier repertoire dans lequel je me situais avant celui-la, quel est-t’il ?</p>
<p>Il y en a encore un autre qu’il interprete comme : remplacer ce symbole par la liste de tous les elements de ce dossier, lequel est-il?</p>
<p><strong>3</strong>. Trouve le moyen en une seule commande de : te deplacer dans le dossier <code>/Users/MONUTILISATEUR/Downloads</code>, en afficher le contenu, puis te deplacer dans le dossier <code>/etc</code>, afficher les 42 dernieres lignes du fichier passwd qui s’y trouve, enfin de retourner dans le dossier <code>/Users/MONUTILISATEUR/Downloads</code>.</p>
<p>Attention, ici j’attend que tu utilises ce que tu as appris a point 1. et 2.</p>
<p><strong>4</strong>. (<em>optionel parce qu’un peu complexe</em>) Il y a un operateur qu’on appelle de redirection (superieur ou inferieur) qui permet, comme son nom l’indique de rediriger la sortie d’une commande dans une autre.</p>
<p>A l’aide de echo, sauras-tu inserer “Hello World” dans un fichier <code>mypleasure.txt</code> a l’aide de l’operateur superieur?</p>
<p><strong>Nota</strong>: Je ne l’avais pas mentione jusqu’ici, mais un programme sur unix, a ce qu’on appelle une entree (les fichiers que tu lui demande de traiter, d’utiliser, (c’est le cas de <code>ls</code>), le texte que tu lui demande de manipuler (c’est le cas de cat, ou de grep quand tu lui demande de trouver une occurence), et une sortie: le resultat.</p>
<p>Il est important de garder a l’esprit que toutes ces entrees, et sorties sont dites “normalisees”, ces normes sont generalement definies par ce qu’on appelle la norme POSIX (C’est pour la culture generale).</p>
<p>Donc tu peux parfaitement, envoyer la sortie d’un programme, en tant qu’entree d’un autre. C’est trop abstrait?</p>
<p><em>Un exemple</em>:</p>
<p>Je peux trouver tous les fichiers qui contienent “test” dans le dossier <code>/Users/MONUTILISATEUR</code> en envoyant le resultat de la commande ls dans l’entree de grep, c’est l’operateur <code>pipe</code>:</p>
<pre><code>ls /Users/MONUTILISATEUR | grep</code></pre>
<p><strong>5</strong>. Trouve une commande qui permette de lister tous les processus en cours sur ton ordinateur, et recherche-y firefox :)</p>
<h5 id="le-droit-de-rien-lenvie-de-tout."><a href="#TOC">Le droit de rien, l’envie de tout.</a></h5>
<p><strong>6</strong>. Qu’est-ce qu’un groupe sur un systeme unix? qu’est-ce qu’un administrateur? quel est son nom? Comment executer une commande en tant qu’administrateur?</p>
<p><strong>7</strong>. A l’aide de quelles options de la commande ls peut-lister en version longue l’integralite de tous les fichiers d’un dossier (tu peux au passage utiliser l’un des symboles decouverts plus haut) ?</p>
<p>A quelle information correspond chacun des elements de la ligne?</p>
<p>Si tu utilises cette methode sur ton dossier HOME (<code>/Users/MONUTILISATEUR</code> ou <code>~/</code>), et que tu compares le resultat avec ce que t’affiches le finder dans ce meme dossier, que constate-tu? Qu’est-ce qui en est la cause?</p>
<p><strong>8</strong>. Puisque dorenavant, tu sais quel element dans ce listing represente les droits afherents a ces fichiers, a quoi correspondent chacun des dix membres de cet elements? (d f ou l, puis r, w, ou x repetes).</p>
<p><strong>9</strong>. Comment change t’on les droits d’un fichier? <strong>10</strong>. Comment change t’on les droits d’un dossier? <strong>11</strong>. Comment change t’on son possesseur? (owner)</p>
<p><strong>12</strong>. Creer un fichier <code>/Users/MONUTILISATEUR/test</code> et change ses droits afin que l’utilisateur ai le droit d’y ecrire, de le lire, de l’executer, son groupe ai les memes droits, et qu’un utilisateur lambda n’ai le droit que de le lire. * Change le owner de ce fichier afin que ce soit root * Change le groupe de ce fichier afin que ce soit root egalement * Est-ce que sans utiliser la commande qui permet d’etre administrateur tu parviens a y ecrire dorenavant? pourquoi?</p>
<h4 id="defi"><a href="#TOC">Defi</a></h4>
<p>En preambule de la suite, je voudrais que tu apprenes a utiliser la commande ssh et la commande scp.</p>
<p>Documente toi un peu sur ce que c’est que le protocole ssh (scp en est une extension, est-ce que tu peux deviner juste a l’aide de son nom a quoi elle sert).</p>
<p>Le but du jeu sera dans un premier temps de parvenir a te connecter au serveur ssh hackerway.oleiade.com, a l’aide de l’identifiant : hackerway et du mot de passe : asimov, via le port 4242 (tiens, tiens, c’est quoi un port unix?</p>
<p>Et tiens, au fait, c’est quoi tcp, aussi appelle tcp/ip, c’est quoi la difference avec udp? ) et d’y creer un fichier victoire.diditbitch dans lequel tu me mettras un super message d’amour.</p>
<p>Puis de te deconnecter, et de telecharger ce fichier sur ton ordinateur a l’aide de la commande scp.</p>
<p>Enfin, si tu y arrives, tu m’enverras son contenu par mail en chainant la commande cat sur ce fichier, et la command mail (qui permet, comme son nom l’indique d’envoyer des mails, elle est peu abrupte dans un premier temps, hesite pas a googler pour trouver comment l’utiliser)</p>
<h4 id="background-2"><a href="#TOC">Background</a></h4>
<p>TODO</p>
<h3 id="rollback"><a href="#TOC">Rollback</a></h3>
<h5 id="et-si-on-se-revoyait"><a href="#TOC">Et si on se revoyait?</a></h5>
<p><strong>1</strong>. Comment creer le dossier <code>/Users/morgane/Downdloas/I/Love/You</code> en une seul commande</p>
<p><strong>2</strong>. Meme si tu n’as pas internet sur ta machine, connecte toi en ssh a l’ip <code>127.0.0.1</code> avec l’utilisateur morgane et le meme mot de passe que ton mac? Est-ce que cela marche? A ton avis, pourquoi?</p>
<p>Qu’est-ce que tu en deduis de ce que represente l’ip 127.0.0.1? qu’est-ce que tu en deduis a propos de ssh?</p>
<p><strong>3</strong>. Cree le dossier <code>~/ThisIsATest</code> et cree y un fichier abc contenant “easy as” , ainsi qu’un autre fichier 123 contenant “or simple as” a l’aide d’une seule commande. Puis copie le dossier <code>~/ThisIsATest</code> dans <code>~/Downloads</code> a l’aide de la commande scp.</p>
<p><strong>4</strong>. Cree un lien symbolique pointant sur le fichier <code>~/ThisIsATest/abc</code> dans <code>~/Desktop</code>. Ecris dans celui-ci “one, two, three, baby, you and me!” sans utiliser d’editeur.</p>
<p>Si tu te sers d’une commande que tu as deja rencontre pour afficher le contenu du lien symbolique representant le fichier <code>~/Desktop/abc</code>, que constates-tu?</p>
<p>Si maintenant tu utilises l’operateur <code>&gt;&gt;</code> pour ecrire “Come on, let me love you just a little bit!” a la fin du fichier represente par le lien symbolique <code>~/Desktop/abc</code>, qu’est ce qui arrive au fichier <code>~/ThisIsATest/abc</code>? pourquoi?</p>
<p><strong>5</strong>. <code>cut</code> : cette commande permet de decouper des morceaux de lignes a l’aide d’un delimiteur. A l’aide cette commande, affiche les colonnes 1 et 5 du fichier <code>/etc/passwd</code>. Ce fichier contient des informations sur tous les utilisateurs de ton ordinateur.</p>
<p>Pour info, avoir plusieurs utilisateurs permet de limiter les degats en cas d’attaque/virus/fin du monde, et c’est ce qui explique que Windows est une passoire, et aue ton serveur soit sous Linux (mummmm).</p>
<p><strong>6</strong>. Affiche le contenu du fichier <code>/etc/passwd</code>. Puis compte le nombre de lignes de ce fichier. Maintenant, obtiens le meme resultat en utilisant l’operateur <code>|</code> (pipe). Est-ce que son fonctionnement te semble plus clair ? Continue de jouer avec <code>|</code> : refais le #5 en utilisant <code>|</code>, plutot que de passer le fichier directement en argument.</p>
<h5 id="le-shell-et-lenvironnement."><a href="#TOC">le shell et l’environnement.</a></h5>
<p>Il y a bien longtemps, quand les ordianteurs prenaient plus de place que ton appartement, on s’y connectait a distance a partir de “terminaux”, des ecrans munis d’un clavier, et le programme charge d’interpreter tes commandes et de les transmettre a l’ordinateur s’appelait un shell.</p>
<p>Aujourd’hui, tu as les trois dans le meme objet : ordinateur, ecran et logiciel pour transmettre tes commandes. Citons le poete : le shell est bien un coquillage, mais tu entends les “bruits” de l’ordinateur, et en plus tu peux lui parler.</p>
<p>A chaque fois que tu lances un shell, ou interpreteur de commande, il charge un “environnment”, qui lui permet d’avoir un certain nombre d’ informations sur ton systeme et tes preferences.</p>
<p>Par exemple, ou sont enregistres les programmes sur ton ordinateur. Le shell te procure un certain nombre d’utilitaires integres pour te faciliter la vie, comme les <code>|</code>, les <code>&gt;&gt;</code> et <code>&lt;&lt;</code>, etc…</p>
<p><strong>7</strong>. tape la commande <code>env</code></p>
<p><strong>8</strong>. Dans tout le fratras qui s’affiche, quelle ligne contient :</p>
<ul>
<li>ton nom d’utilisateur</li>
<li>le chemin vers les programmes (aussi appele binaires)</li>
<li>le chemin vers ton dossier utilisateur</li>
<li>pour rigoler, es-tu capable de faire ces commandes avec des | et cut ?</li>
</ul>
<p><strong>9</strong>. Lis a la fin de ce fichier le man de la commande <code>export</code></p>
<p>Cree une variable biteenbois avec pour valeur popeye.</p>
<p>Pour verifier que tout s’est bien passee, cherche la dans l’environmment avec grep en une seule commande.</p>
<p><strong>10</strong>. En toute logique, la commande pour supprimer une ligne de l’ environnement est <code>unset</code>.</p>
<p>Supprime donc la variable que tu viens de creer.</p>
<p><strong>11</strong>. Recree une nouvelle variable capitaine ave comme value hadock</p>
<p>Ouvre un nouveau terminal et cherche cette valeur dans l’env (pas a la main, fais faire le boulot)</p>
<p>Ouvre un troisieme terminal, et cherche la egalement. Qu’en conclus-tu ?</p>
<p><strong>12</strong>. L’important c’est le chemin…</p>
<p>Supprime la variable PATH et essaye de lancer quelques commandes selon ton bon plaisir. Rigolo non ?</p>
<p>Qu’en conclus tu ? Est-il possible de retablir la variable path ?</p>
<p><em>Man export</em></p>
<pre><code>Set an environment variable. Mark each name to be passed to child processes in the environment.

Syntax
      export [-fn] [-p] [name[=value]]

Options
      -f   The names refer to shell functions;
           otherwise the names refer to shell variables
      -n   No longer mark each name for export.
      -p   Display output in a form that may be reused as input.

If no names are supplied, or if the `-p&#39; option is given, a list of exported names is displayed.

The return status is zero unless an invalid option is supplied, one of the names is not a valid shell</code></pre>
<h4 id="background-3"><a href="#TOC">Background</a></h4>
<p>TODO</p>
<h3 id="shell-scripting"><a href="#TOC">Shell scripting</a></h3>
<h4 id="exercices-3"><a href="#TOC">Exercices</a></h4>
<p><strong>Avant toutes choses, un peu de theorie.</strong></p>
<p>Jusqu’ici, tu t’es contente de papoter avec ton syteme au travers du shell. De lui donner quelques ordres, en les chainant parfois.</p>
<p>C’est très pratique, mais parfois, tu pourrais avoir besoin d’automatiser un peu tout ca. Heuresement, les papas d’Unix ont pense a tout.</p>
<p>C’est ce qu’on appelle le shell scripting, et ça consiste a écrire dans un fichier une série d’instruction. Lorsque tu demanderas au shell d’exécuter ce “script” il effectuera cette série d’instruction les unes a la suite des autres; tu me concéderas que c’est quand meme beaucoup plus pratique que de les retaper une a une a chaque fois.</p>
<p>Le shell script a la réputation d’avoir une syntaxe un peu abrupte pour les débutants, mais c’est aussi une bonne manière d’appréhender pourquoi des langages comme le Python que nous verrons plus tard existent.</p>
<p>Il n’est cependant pas insurmontable, et reste toujours très pragmatique, je t’ai donc trouve une documentation utile qui pourrait t’aider dans ta quête du jour: <code>http://www.freeos.com/guides/lsst/ch02sec01.html</code></p>
<p><strong>Nota</strong></p>
<p>On peut considerer le shell comme un telephone avec une ligne direct avec ton système d’exploitation, et plus précisément avec un élément clé de celui qu’on appelle le kernel (plus communément baptise le noyau); c’est lui qui traduit et gère les instructions que tu lui donnes pour les faire exécuter par la machine.</p>
<p>On peut donc considérer que d’une certaine manière, interagir avec le système d’exploitation unix via le shell serait comme donne des instructions a qui on aurait bande les yeux.</p>
<p><strong>1</strong>. Creer un fichier hello.sh dans ~/Desktop, qui affiche a l’écran “Hello world /”, il y a quelques prerequis: s’assurer que le fichier soit exécutable, utiliser un shellbang, et trouver comment l’exécuter, le tutoriel sur le shell script que je t’ai fournis plus haut devrait aider.</p>
<p><strong>2</strong>. Modifie le script hello.sh, et cree une variable NAME au sein de laquel tu mettras comme valeur le nom que tu veux, et fait en sorte que le script affiche a l’écran “Hello VALEURDELAVARIABLENAME /”</p>
<p><strong>3</strong>. Exploitons un peu les variables d’environnement. Les shell script sont comme leur nom l’indique exécute par ton shell, donc elle partage l’environnement de celui-ci (voir les journées précédentes).</p>
<p>Cree donc une variable d’environnement HELLONAME dont tu setters la valeur selon tes souhaits, et fait en sorte que ton script affiche dorénavant a l’écran “Glad to me meet you VALEURDELAVARIABLE_HELLONAME”</p>
<p><strong>4</strong>. Creer un nouveau fichier de script fate.sh, ainsi qu’une variable DESTINY dans l’environement dont la valeur serait 1.</p>
<p>Au sein de ce script, a l’aide des expressions conditionelles, tu afficheras “Youpi tralala” si la valeur de la variable d’environement DESTINY cree plus tot est 1, “Too bad” si c’est une valeur differente.</p>
<p>Fait les tests en changeant la valeur de DESTINY dans ton environement avant de lancer le script.</p>
<p><strong>5</strong>. A l’aide d’une boucle (indice : for (beaucoup d’exemples sur les internets)), cree dix fichier test_n avec n de 1 a 10 et dans chacun d’entre eux, insere “I’m VALEURDEN” :) dans un dossier suffix_test dans /tmp (la notion de droit peut entrer en ligne de compte)</p>
<p><strong>6</strong>. A l’aide d’une boucle et d’expressions conditionelles, affiche les contenu de tous les fichiers precedement cree dont le suffixe n est pair. Puis dont le suffixe n est impair.</p>
<h4 id="defi-1"><a href="#TOC">Defi:</a></h4>
<p>Je voudrais que tu ecrives un premier script shell quicree un dossier “medias” dans ~/Downloads, et qui cree 10 fichiers suffixes (n, comme dans les precedents exercices) avec comme extensions .avi, 10 autres suffixes avec l’extension .jpg, et encore 10 autres suffixes avec l’extension .mp3.</p>
<p>Et qu’ensuite tu ecrives un second script qui cree au sein du dossier “medias” precedemment cree trois autres sous-dossiers : films, photos, musique. Et que celui-ci deplace tous les fichiers dans medias avec l’extension avi dans films, tous ceux avec l’extension jpg dans photos, et tous ceux avec l’extension mp3 dans musique.</p>
<p>Voila voila, si tu trouves ca plus dur, c’est tout a fait normal. Mais comme toujours la cle de tout ca, c’est la pratique, la perseverance, et l’espoir de decouvrir un langage plus simple, plus joli et plus puissant… Un jour il sera tiens, ohhhh oui un jour il sera tiens!</p>
<h4 id="background-4"><a href="#TOC">Background</a></h4>
<p>TODO</p>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26598640-4']);
  _gaq.push(['_setDomainName', 'github.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>
